<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Discuss - Code Playground</title>
    <link rel="stylesheet" href="/css/discuss.css">
</head>

<body>
    <!-- Navbar -->
    <nav class="navbar">
        <div class="logo">
            <a href="/home">
                <img src="lo.png" alt="Logo">
            </a>
        </div>
        <ul class="nav-links">
            <li><a href="/explore">Explore</a></li>
            <li><a href="/problems">Problems</a></li>
            <li><a href="/contests">Contests</a></li>
            <li><a href="/discuss">Discuss</a></li>
            <li><a href="/contact">About Us</a></li>
            <li><a href="/profile">üë§</a></li>
        </ul>
    </nav>

    <!-- Discussion Section -->
    <div class="discussion-container">
        <div class="discussion-header">
            <h1>Discussion Forum</h1>
            <div class="discussion-actions">
                <select class="category">
                    <option>All Categories</option>
                    <option>General Coding</option>
                    <option>Interview Preparation</option>
                    <option>Competitive Programming</option>
                    <option>Project Showcase</option>
                    <option>Bug Fixing & Debugging</option>
                </select>
                <button class="btn">Start Discussion</button>
            </div>
        </div>

        <!-- Discussion Threads -->
        <div class="discussion-thread">
            <h3><a href="#">Best resources for learning Data Structures?</a></h3>
            <p>Posted by <strong>CodeMaster</strong> ‚Ä¢ Category: <strong>General Coding</strong> ‚Ä¢ 15 Replies ‚Ä¢ 1.2K
                Views</p>
            <div class="thread-stats">
                <span>üîº 45</span>
                <span class="toggle-comments">üí¨ 15</span>
                <span>üëÅÔ∏è 1.2K</span>
            </div>
            <div class="comments-section">
                <p><strong>User1:</strong> Try LeetCode and GeeksforGeeks!</p>
                <p><strong>User2:</strong> Any good books for DS&A?</p>
                <input type="text" class="comment-input" placeholder="Write a comment...">
                <button class="comment-submit">Submit</button>
            </div>
        </div>

        <div class="discussion-thread">
            <h3><a href="#">How to approach a system design interview?</a></h3>
            <p>Posted by <strong>JohnDoe</strong> ‚Ä¢ Category: <strong>Interview Preparation</strong> ‚Ä¢ 22 Replies ‚Ä¢ 3.5K
                Views</p>
            <div class="thread-stats">
                <span>üîº 78</span>
                <span class="toggle-comments">üí¨ 22</span>
                <span>üëÅÔ∏è 3.5K</span>
            </div>
            <div class="comments-section">
                <p><strong>User3:</strong> Study "System Design Interview" by Alex Xu.</p>
                <p><strong>User4:</strong> Practice designing scalable systems!</p>
                <input type="text" class="comment-input" placeholder="Write a comment...">
                <button class="comment-submit">Submit</button>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <p>&copy; 2025 Code Playground. All rights reserved.</p>
    </footer>

    <script>
        // Toggle comments section when clicking the üí¨ button
        document.querySelectorAll('.toggle-comments').forEach(button => {
            button.addEventListener('click', (event) => {
                event.stopPropagation(); // Prevents closing when clicking on the button itself
                const comments = button.parentElement.nextElementSibling;
                comments.style.display = (comments.style.display === "block") ? "none" : "block";
            });
        });

        // Submit button for comments (adds comment and resets input but does NOT close comments)
        document.querySelectorAll('.comment-submit').forEach(button => {
            button.addEventListener('click', (event) => {
                event.stopPropagation(); // Prevents discussion card from closing
                const inputField = button.previousElementSibling;
                if (inputField.value.trim() !== "") {
                    // Create a new paragraph for the comment
                    const newComment = document.createElement("p");
                    newComment.innerHTML = `<strong>You:</strong> ${inputField.value}`;

                    // Insert comment before input field
                    const commentSection = button.parentElement;
                    commentSection.insertBefore(newComment, inputField);

                    // Clear input field (reset)
                    inputField.value = "";
                }
            });
        });

        // Clicking on the discussion card closes the comments section (but not when clicking inside the comment box)
        document.querySelectorAll('.discussion-thread').forEach(thread => {
            thread.addEventListener('click', (event) => {
                const isClickInsideCommentBox = event.target.closest('.comments-section');
                if (!isClickInsideCommentBox) {
                    const comments = thread.querySelector('.comments-section');
                    if (comments) comments.style.display = "none";
                }
            });
        });
    </script>

</body>

</html>